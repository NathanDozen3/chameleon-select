!function(){const e=()=>{if(document.getElementById("chameleon-select-styles"))return;const e=document.createElement("style");e.id="chameleon-select-styles",e.textContent=".chameleon-wrapper { position: relative; cursor: pointer; display: inline-block; vertical-align: middle; width: var(--ch-width, 200px); font-family: var(--ch-font-family, inherit); }.chameleon-wrapper:focus { outline: none; }/* Mimic the refInput focus style dynamically */.chameleon-wrapper.is-focused .chameleon-trigger { outline: var(--ch-focus-outline);outline-offset: var(--ch-focus-offset);box-shadow: var(--ch-focus-shadow);border-color: var(--ch-focus-border) !important;}.chameleon-trigger { display: flex; align-items: center; justify-content: space-between; background-color: var(--ch-bg); border: var(--ch-border); border-radius: var(--ch-border-radius); padding: var(--ch-padding); font-size: var(--ch-font-size); height: var(--ch-height); line-height: var(--ch-line-height); box-sizing: border-box; color: var(--ch-color); transition: border-color 0.2s, box-shadow 0.2s; }.chameleon-text { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; pointer-events: none; }.chameleon-arrow { margin-left: 8px; opacity: 0.5; font-size: 0.8em; pointer-events: none; }.chameleon-menu { position: absolute; top: 100%; left: 0; right: 0; z-index: 9999; display: none; max-height: 250px; overflow-y: auto; box-shadow: 0 4px 12px rgba(0,0,0,0.1); background-color: var(--ch-bg-fallback, #fff); border: var(--ch-border); border-radius: 0 0 var(--ch-border-radius) var(--ch-border-radius); }.chameleon-menu::-webkit-scrollbar { width: 4px; }.chameleon-menu::-webkit-scrollbar-thumb { background: #ccc; border-radius: 10px; }.chameleon-select-item { padding: var(--ch-padding); color: var(--ch-color-item); transition: background 0.2s; }.chameleon-select-item:hover, .chameleon-select-item.is-highlighted { background-color: rgba(0,0,0,0.05) !important; }",document.head.appendChild(e);const t=e=>{const t=e.closest("form");if(!t||e.dataset.chameleonLoaded)return;e.dataset.chameleonLoaded="true";const o=t.querySelector('input[type="text"], textarea, input:not([type])')||e,n=window.getComputedStyle(o),c=window.scrollY;o.focus({preventScroll:!0});const r=window.getComputedStyle(o),a={outline:r.outline,outlineOffset:r.outlineOffset,boxShadow:r.boxShadow,borderColor:r.borderColor};o.blur(),window.scrollTo(0,c);const l=(()=>{const e=document.createElement("input");e.placeholder="t",e.style.cssText="position:fixed; opacity:0; pointer-events:none;",document.body.appendChild(e);const t=window.getComputedStyle(e,"::placeholder").color;return document.body.removeChild(e),t&&t!==n.color?t:n.color.replace("rgb","rgba").replace(")",", 0.45)")})(),s=n.color,d=document.createElement("div");d.className="chameleon-wrapper",d.tabIndex=0;const i=document.createElement("div");i.className="chameleon-trigger";const h=""===e.value||e.options[e.selectedIndex].disabled,u=document.createElement("span");u.className="chameleon-text",u.textContent=e.options[e.selectedIndex].text;const m=document.createElement("span");m.className="chameleon-arrow",m.innerHTML="&#9662;";const p=document.createElement("div");p.className="chameleon-menu";const f={"--ch-width":(e.offsetWidth||200)+"px","--ch-font-family":n.fontFamily,"--ch-bg":n.backgroundColor,"--ch-border":n.border,"--ch-border-radius":n.borderRadius,"--ch-padding":n.padding,"--ch-font-size":n.fontSize,"--ch-height":n.height,"--ch-line-height":n.lineHeight,"--ch-color":h?l:s,"--ch-color-item":s,"--ch-bg-fallback":n.backgroundColor.includes("rgba(0,0,0,0)")?"#fff":n.backgroundColor,"--ch-focus-outline":a.outline,"--ch-focus-offset":a.outlineOffset,"--ch-focus-shadow":a.boxShadow,"--ch-focus-border":a.borderColor};for(const[e,t]of Object.entries(f))d.style.setProperty(e,t);const b=Array.from(e.options).map((e,t)=>{const o=document.createElement("div");return o.className="chameleon-select-item",o.textContent=e.text,o.onclick=e=>{e.stopPropagation(),y(t),p.style.display="none",d.classList.remove("is-focused")},p.appendChild(o),o}),y=t=>{const o=e.options[t];e.selectedIndex=t,u.textContent=o.text,d.style.setProperty("--ch-color",s),e.dispatchEvent(new Event("change",{bubbles:!0})),b.forEach(e=>e.classList.remove("is-highlighted")),b[t].classList.add("is-highlighted")},g=e=>{e.stopPropagation();const t="block"===p.style.display;document.querySelectorAll(".chameleon-menu").forEach(e=>e.style.display="none"),p.style.display=t?"none":"block",t||d.classList.add("is-focused")};i.onclick=g,d.onfocus=()=>d.classList.add("is-focused"),d.onblur=()=>{d.classList.remove("is-focused"),p.style.display="none"},d.onkeydown=t=>{const o="block"===p.style.display;let n=e.selectedIndex;switch(t.key){case"Enter":case" ":t.preventDefault(),g(t);break;case"ArrowDown":t.preventDefault(),o||(p.style.display="block"),n<b.length-1&&y(n+1);break;case"ArrowUp":t.preventDefault(),o||(p.style.display="block"),n>0&&y(n-1);break;case"Escape":p.style.display="none"}},e.style.display="none",i.append(u,m),d.append(i,p),e.parentNode.insertBefore(d,e)};document.querySelectorAll("select").forEach(t);new MutationObserver(e=>{e.forEach(e=>e.addedNodes.forEach(e=>{"SELECT"===e.nodeName?t(e):e.querySelectorAll&&e.querySelectorAll("select").forEach(t)}))}).observe(document.body,{childList:!0,subtree:!0})};document.addEventListener("click",e=>{e.target.closest(".chameleon-wrapper")||(document.querySelectorAll(".chameleon-menu").forEach(e=>e.style.display="none"),document.querySelectorAll(".chameleon-wrapper").forEach(e=>e.classList.remove("is-focused")))}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();//# sourceMappingURL=chameleon-select.min.js.map
//# sourceMappingURL=chameleon-select.min.js.map
